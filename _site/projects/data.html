<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
    <title>Data - Jovial Badger</title>
    <link rel="stylesheet" href="/assets/css/main.css">  
    <link rel="stylesheet" href="/assets/css/default.css">  
    <meta name="description" content="Jovial Badger — coding applications, experiments, and hobbies. Minimal, accessible, mobile-first.">
    <meta property="og:title" content="Jovial Badger">
    <meta property="og:description" content="Coding applications, experiments, and hobbies.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://jovialbadger.co.uk/">
    <meta property="og:image" content="/assets/logo/badger_letters_logo.svg">
		<link rel="icon" type="image/png" href="/assets/logo/letters_logo.svg">
    <link rel="manifest" href="/assets/pwa/manifest.json">
    <meta name="theme-color" content="#317EFB"/>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="/assets/logo/badger_letters_logo.svg">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/logo/badger_letters_logo.svg">
    <link rel="apple-touch-icon" sizes="167x167" href="/assets/logo/badger_letters_logo.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/logo/badger_letters_logo.svg">
    <link rel="apple-touch-icon" sizes="192x192" href="/assets/logo/badger_letters_logo.svg">
    <link rel="apple-touch-icon" sizes="228x228" href="/assets/logo/badger_letters_logo.svg">
    <script src="/assets/js/default.js" defer></script>
  </head>
  <body>
    <nav class='sideMenuNav'>
      <div class="navContainer">
        <button class="btnNavToggle" aria-label="Toggle navigation menu">&#9776;</button>
        <img src="/assets/logo/badger_letters_logo.svg" alt="Site Logo">
        <!-- Settings Button -->
<button id="open-settings-btn">⚙</button>

<!-- Fullscreen Settings Menu -->
<div id="settings-menu">
    <div class="settings-content">
        <h2>Site Settings</h2>
        <!-- Add your settings form fields here -->
        <div class="settings-actions">
            <button id="save-settings-btn">Save</button>
            <button id="close-settings-btn">Close</button>
        </div>
    </div>
</div>

<style>
    #settings-menu {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background: rgba(255,255,255,0.98);
        z-index: 10000;
        box-shadow: 0 0 20px rgba(0,0,0,0.2);
    }
    #settings-menu  .settings-content {
        max-width: 500px;
        margin: 60px auto;
        padding: 40px;
        background: #fff;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    #settings-menu  .settings-actions {
        margin-top: 40px;
        display: flex;
        justify-content: space-between;
    }
</style>
<script>
    const openBtn = document.getElementById('open-settings-btn');
    const menu = document.getElementById('settings-menu');
    const closeBtn = document.getElementById('close-settings-btn');

    openBtn.onclick = () => { menu.style.display = 'block'; };
    closeBtn.onclick = () => { menu.style.display = 'none'; };

    // Optional: Save button handler
    document.getElementById('save-settings-btn').onclick = function() {
        // Add save logic here
        menu.style.display = 'none';
    };
</script>
        <div class="navItems" role="navigation" aria-label="Main Navigation">


    
    
    
    

    
    
    
        <ul>
            
                <li><a href="/">Home</a></li>
            
        </ul>
    

    
    
    
        <details open><summary>GAMES</summary>
            <ul>
                
                    <li><a href="/projects/counter.html">Counter</a></li>
                
                    <li><a href="/projects/dice.html">Dice</a></li>
                
                    <li><a href="/projects/game_tracker.html">Game Tracker</a></li>
                
                    <li><a href="/projects/word_finder.html">Word_Finder</a></li>
                
            </ul>
        </details>
    

    
    
    
        <details open><summary>WEB_SCRIPTS</summary>
            <ul>
                
                    <li><a href="/projects/calendar.html">Calendar</a></li>
                
                    <li><a href="/projects/clock.html">Clock</a></li>
                
                    <li><a href="/projects/data.html">Data</a></li>
                
                    <li><a href="/projects/ics.html">ICS_Generator</a></li>
                
                    <li><a href="/projects/gallery.html">Media_Gallery</a></li>
                
                    <li><a href="/projects/timer.html">Timer</a></li>
                
                    <li><a href="/projects/converter.html">Unit_Converter</a></li>
                
            </ul>
        </details>
    
</div>
        <div class="socialItems" role="navigation" aria-label="Social Media Links"><hr>
<h4>Connect with Me</h4>
<ul>
    <li>
        <a href="https://github.com/JovialBadger" target="_blank" rel="noopener">
            <svg viewbox="0 0 98 96" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M48.854 0C21.839 0 0 22 0 49.217c0 21.756 13.993 40.172 33.405 46.69 2.427.49 3.316-1.059 3.316-2.362 0-1.141-.08-5.052-.08-9.127-13.59 2.934-16.42-5.867-16.42-5.867-2.184-5.704-5.42-7.17-5.42-7.17-4.448-3.015.324-3.015.324-3.015 4.934.326 7.523 5.052 7.523 5.052 4.367 7.496 11.404 5.378 14.235 4.074.404-3.178 1.699-5.378 3.074-6.6-10.839-1.141-22.243-5.378-22.243-24.283 0-5.378 1.94-9.778 5.014-13.2-.485-1.222-2.184-6.275.486-13.038 0 0 4.125-1.304 13.426 5.052a46.97 46.97 0 0 1 12.214-1.63c4.125 0 8.33.571 12.213 1.63 9.302-6.356 13.427-5.052 13.427-5.052 2.67 6.763.97 11.816.485 13.038 3.155 3.422 5.015 7.822 5.015 13.2 0 18.905-11.404 23.06-22.324 24.283 1.78 1.548 3.316 4.481 3.316 9.126 0 6.6-.08 11.897-.08 13.526 0 1.304.89 2.853 3.316 2.364 19.412-6.52 33.405-24.935 33.405-46.691C97.707 22 75.788 0 48.854 0z" fill="#24292f"/></svg>
        </a>
    </li>
    <li>
        <a href="https://www.reddit.com/user/JovialBadger/" target="_blank" rel="noopener">
            <svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg">
                <path d="M248,104a31.99228,31.99228,0,0,0-52.9375-24.19043c-16.75439-8.90112-36.76172-14.279-57.666-15.52539l5.19581-31.17578,21.83105,3.3584a24.00409,24.00409,0,1,0,2.43506-15.814l-29.64209-4.56006a7.996,7.996,0,0,0-9.10742,6.5918l-6.91309,41.478c-21.83887.94165-42.813,6.37891-60.2583,15.647a31.99266,31.99266,0,0,0-42.59229,47.74024A59.04669,59.04669,0,0,0,16,144c0,21.93457,12.042,42.35156,33.90723,57.48926C70.875,216.00588,98.60938,224,128,224s57.125-7.99414,78.09277-22.51074C227.958,186.35158,240,165.93459,240,144a59.01726,59.01726,0,0,0-2.3457-16.44922A32.17163,32.17163,0,0,0,248,104ZM72,132a16,16,0,1,1,16,16A16.01833,16.01833,0,0,1,72,132Zm92.69629,51.10938a80.122,80.122,0,0,1-73.39209,0,8,8,0,0,1,7.34033-14.2168,64.09433,64.09433,0,0,0,58.71094,0,8.00008,8.00008,0,0,1,7.34082,14.2168ZM168,148a16,16,0,1,1,16-16A16.01833,16.01833,0,0,1,168,148Z"/>
            </svg>
        </a>
    </li>
    <li>
        <a href="https://buymeacoffee.com/jovialbadger" target="_blank" rel="noopener">
            <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 64 64">
                <style><![CDATA[.C{clip-rule:evenodd}.D{fill:#100f0d}]]></style>
                <defs>
                    <clipPath id="A"><path d="M2332.45 5723.53v37c0 20.44-16.57 37-37 37h-12.33c-20.44 0-37-16.57-37-37v-37h-37c-20.44 0-37-16.57-37-37v-12.33c0-20.44 16.57-37 37-37h37v-37c0-20.44 16.57-37 37-37h12.33c20.44 0 37 16.57 37 37v37h37c20.44 0 37 16.57 37 37v12.33c0 20.44-16.57 37-37 37z" class="C"/></clipPath>
                    <clipPath id="B"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="C"><path d="M1534.22 5533.96l-387.92 2.36 190.5-1210.2h464.12l190.5 1210.2z" class="C"/></clipPath>
                    <clipPath id="D"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="E"><path d="M1534.22 5533.96l-387.92 2.36 190.5-1210.2h367.14l190.5 1210.2z" class="C"/></clipPath>
                    <clipPath id="F"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="G"><path d="M1035.47 5536.32h1000.97v111.602H1035.47z"/></clipPath>
                    <clipPath id="H"><path d="M1842.48 5829.28H1222.5l-72.73-167.4h765.44z" class="C"/></clipPath>
                    <clipPath id="I"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="J"><path d="M2005.26 5194.53H1059.7l85.37-481.3 387.4 4.2 387.4-4.2z" class="C"/></clipPath>
                    <clipPath id="K"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="L"><path d="M707.297 5228.36c78.582 0 142.293 63.7 142.293 142.3s-63.7 142.3-142.293 142.3S565 5449.24 565 5370.65c0-78.58 63.7-142.3 142.297-142.3z" class="C"/></clipPath>
                    <clipPath id="M"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="N"><path d="M2188.83 4876.8c36.98 0 66.96 29.98 66.96 66.96s-29.98 66.96-66.96 66.96-66.95-29.98-66.95-66.96 29.97-66.96 66.95-66.96z" class="C"/></clipPath>
                    <clipPath id="O"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                    <clipPath id="P"><path d="M933.293 4491.78c36.98 0 66.957 29.98 66.957 66.96s-29.977 66.96-66.957 66.96-66.965-29.98-66.965-66.96 29.98-66.96 66.965-66.96z" class="C"/></clipPath>
                    <clipPath id="Q"><path d="M-2297.97 261.46H12137.2v9623.42H-2297.97z"/></clipPath>
                </defs>
                <g transform="matrix(2.704792 0 0 2.704792 -90.948353 -1833.1808)">
                    <g transform="matrix(.012849 0 0 -.012849 26.365039 755.74948)">
                        <g clip-path="url(#A)">
                            <g clip-path="url(#B)">
                                <path d="M2111.94 5503.03h354.66v354.66h-354.66z" fill="#f9dd05"/>
                            </g>
                        </g>
                        <g clip-path="url(#C)">
                            <g clip-path="url(#D)">
                                <path d="M1086.15 4265.97h965.402v1330.5H1086.15z" fill="#f68313"/>
                            </g>
                        </g>
                        <g clip-path="url(#E)">
                            <g clip-path="url(#F)">
                                <path d="M1086.15 4265.97h868.43v1330.5h-868.43z" fill="#f9dd05"/>
                            </g>
                        </g>
                        <g clip-path="url(#G)">
                            <path d="M975.32 5476.17h1121.26v231.898H975.32z" fill="#fff"/>
                        </g>
                    </g>
                    <path d="M40.004 684.277h12.194v-.766H40.004zm12.862.668h-13.53v-2.102h13.53v2.102" class="D"/>
                    <g transform="matrix(.012849 0 0 -.012849 26.365039 755.74948)" clip-path="url(#H)">
                        <g clip-path="url(#I)">
                            <path d="M1089.62 5601.72h885.738v287.703H1089.62z" fill="#fff"/>
                        </g>
                    </g>
                    <path d="M41.648 682.664h8.818l-.645-1.484h-7.53zm9.835.667H40.63l1.225-2.82h8.404l1.225 2.82" fill="#12110f"/>
                    <path d="M42.937 699.828h6.283l2.342-14.88-5.486.028-5.482-.028zm6.854.667h-7.424l-2.553-16.22 6.265.032 6.266-.032-2.553 16.22" class="D"/>
                    <g transform="matrix(.012849 0 0 -.012849 26.365039 755.74948)" clip-path="url(#J)">
                        <g clip-path="url(#K)">
                            <path d="M999.563 4653.1h1065.85v601.578H999.563z" fill="#fff"/>
                        </g>
                    </g>
                    <path d="M46.053 694.8l4.702.05.978-5.514H40.38l.978 5.514zm5.26.724l-5.26-.057-5.254.057-1.216-6.855H52.53l-1.216 6.855" class="D"/>
                    <g transform="matrix(.012849 0 0 -.012849 26.365039 755.74948)">
                        <g clip-path="url(#L)">
                            <g clip-path="url(#M)">
                                <path d="M707.297 5429.25c-32.3 0-58.598-26.3-58.598-58.6s26.3-58.6 58.598-58.6 58.594 26.3 58.594 58.6-26.3 58.6-58.594 58.6zm0-284.6c-124.62 0-225.996 101.38-225.996 226s101.375 226 225.996 226 225.996-101.38 225.996-226c0-124.6-101.38-226-225.996-226" fill="#f1f1f1"/>
                            </g>
                        </g>
                        <g clip-path="url(#N)">
                            <g clip-path="url(#O)">
                                <path d="M2061.73 4816.66h254.2v254.22h-254.2z" fill="#f1f1f1"/>
                            </g>
                        </g>
                        <g clip-path="url(#P)">
                            <g clip-path="url(#Q)">
                                <path d="M806.184 4431.63H1060.4v254.223H806.184z" fill="#f46c35"/>
                            </g>
                        </g>
                    </g>
                </g>
            </svg>
        </a>
    </li>
</ul>
</div>
      </div>
    </nav>
    <section class="siteHeader"><header>
    <!-- Nav Menu Button -->
    <button class="btnNavToggle" aria-label="Toggle navigation menu">&#9776;</button>
    <!-- Logo -->
    <a href="/index.html"><img src="/assets/logo/badger_letters_logo.svg" alt="Site Logo"></a>
    <!-- Site Title -->
    <h1>Jovial Badger</h1>
</header></section>
    <section class="siteContent"><div id="containerDetailOutput"></div>
<div id="containerFilterOutput"></div>
<div><button id="reset-filters">Reset Filters</button></div>
<div id="containerDataOutput"></div>
<div id="containerPagingOutput"></div>
<script src="/%20/assets/js/data.js"></script>

<script>
  const scheduleURL = 'https://docs.google.com/spreadsheets/d/e/2PACX-1vS2lKSaFjfsuZK7Lseo_HsGYhq1VpQQ_qRqntI2NQqc8qlCRAY919Zje_IaCbsorgAgtA-8noCqHyWL/pub?gid=197807890&single=true&output=csv';
  const resultsURL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vSfCDBr6vjSUVxA41chCnyUR46oNnPVyzCyS0_NbvLbk_9eh0Got1BPnZkIKmDngC2bp0bshVm3NiK2/pub?gid=1564670715&single=true&output=csv";
  async function init() {
    // Step 1: Fetch multiple data streams
    const lib = DataLib([], {
      rowsPerPage: 25,
      domSelectors: {
        table: '#containerDataOutput',
        pagination: '#containerPagingOutput',
        filters: '#containerFilterOutput',
        detail: '#containerDetailOutput'
      },
      globalFilter: true,
      uniqueKey: 'Match_ID',
      persistKey: 'my-datalib-state' // persist filters/sort/page across refresh
    });
    const [schedule1, results] = await Promise.all([
      lib.fetchData(scheduleURL, { type: 'csv', cacheKey: 'schedule1', expiry: 36000 }),
      lib.fetchData(resultsURL, { type: 'csv', cacheKey: 'results', expiry: 3600 })
    ]);
    //Step 2: Join datasets on userId
    const joined = lib.join([schedule1, results], ["League Year", "League Type", "Competition", "Match Number"]);
    // Add 'Submit Photo' when 'Timestamp' doesn't exist
    joined.forEach(row => {
      //const matchTime = Date.parse(row.Date);
      //const compareTime = new Date().getTime() + 86400000;
      let status = 'Complete';
      if (Object.prototype.hasOwnProperty.call(row, 'Timestamp')) {
        //const resultTime = Date.parse(row.Timestamp).getTime();
        row["Home Score"] = row["Game Status"] === 'Home Forfeit' ? 0 : row["Game Status"] === 'Away Forfeit' ? 20 : row["Home Score"];
        row["Away Score"] = row["Game Status"] === 'Home Forfeit' ? 20 : row["Game Status"] === 'Away Forfeit' ? 0 : row["Away Score"];
        const winnerVal = lib.compare(row["Home Score"], row["Away Score"]);
        row["Winner"] = winnerVal > 0 ? "Home" : winnerVal < 0 ? "Away" : "Draw";
        row["Win Difference"] = Math.abs(row["Home Score"] - row["Away Score"]);
      } else {
        row["Submit Result"] = "https://docs.google.com/forms/d/e/1FAIpQLSe_zCLLs9ADsMD2oUFQ76WKY2ZMayX_5tVO2M4h4FNhK1RhLA/viewform?usp=pp_url&entry.821820740=" + row['League Year'] + "&entry.530082834=" + row['Competition'].replace(' ', '+') + "&entry.1142329140=" + row['Match Number'] + "&entry.492201271=" + row['League Type'].replace(' ', '+');
        status = 'Awaiting Result';
      }
      row["Status"] = status;
    });
    //const schedule = await lib.fetchData(scheduleURL, { type: 'csv', cacheKey: 'schedule', expiry: 36000 });
    // Step 3: Load into library
    lib.setData(joined);
    lib.setColumns(['Match', 'Date', 'Home', 'Away']);
    //lib.setColumnMeta('Match_ID', { type: 'number',filterable:'',filterOp:'>',filterLabel:'Match ID >' });
    lib.setColumnMeta('League Year', { filterable: '', filterType: 'select' });
    lib.setColumnMeta('League Type', { filterable: '', filterType: 'select' });
    lib.setColumnMeta('Status', { filterable: '', filterType: 'select' });
    lib.setColumnMeta('Home Club,Away Club', { filterLabel: 'Club', filterable: '', filterOp: 'anyof', filterType: 'select', filterKeys: ['Home Club', 'Away Club'] });
    lib.setColumnMeta('Date', { type: 'date' });
    lib.setColumnMeta('Match', {
 concat: ['League Type', 'Competition','Match Number'],sep:'/ ' });
    lib.setColumnMeta('Home', {
 concat: ['Home Club', 'Home Team'] });
    lib.setColumnMeta('Away', { 
concat: ['Away Club', 'Away Team'] });
    lib.setColumnMeta('Match Sheet Photo', { type: 'url', formatOptions: { label: 'Open' } });
    lib.setColumnMeta('Submit Result', { type: 'url', formatOptions: { label: 'Submit' } });
   // lib.setState();
    // Step 4: Render filters (auto-wired)
    lib.renderFilters();
    // Step 5: Initial render
    lib.renderData();
    lib.renderPagination();
    // Step 6: Reset filters button
    document.getElementById('reset-filters').addEventListener('click', () => {
      lib.setState({ filters: [], page: 1 });
      lib.renderFilters();
      lib.renderData();
      lib.renderPagination();
    });
  }
  init();
  //const [users, orders] = await Promise.all([
  //  lib.fetchData(scheduleURL, { type: 'csv', cacheKey: 'users', expiry: 36000 }),
  //  lib.fetchData('https://example.com/orders.json', { type: 'json', cacheKey: 'orders', expiry: 3600 })
  //]);
  //Step 2: Join datasets on userId
  //const joined = lib.join([users, orders], [ ['id'], ['userId'] ]);
</script>

</section>
    <section class="siteFooter"><footer>
    <p>&copy; 2025 Jovial Badger. All rights reserved.</p>
</footer></section>
    <script src="/assets/pwa/app.js" defer></script>
  </body>
</html>